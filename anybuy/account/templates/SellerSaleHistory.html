{% extends "sellerbase.html" %}
{% block title %}SalesHistory{% endblock %}

{% block sellercontent %}

<div class="container">
	<div class="row clearfix">
		<div class="col-md-10 column">
			
				
			<h3 class="text-left" style="color:#3a87ad">
				Sales History
			</h3>
			<h4>This part is that the transaction has finished completely!</h4>
			<hr>
			<a href="/seller/statistics/all"><button class='btn btn-info btn-xs'>All Sales</button></a>
			<a href="/seller/statistics/year"><button class='btn btn-info btn-xs'>Year Sales</button></a>
			<a href="/seller/statistics/month"><button class='btn btn-info btn-xs'>Month Sales</button></a>
            <a href="/seller/statistics/day"><button class='btn btn-info btn-xs'>Weekly Sales</button></a>
			<a href="/seller/statistics/day"><button class='btn btn-info btn-xs'>Day Sales</button></a>
			<br>
			<br>
			<div class="row clearfix">
				<div class="col-md-12 column">   
        			<div class="row col-md-12">
			<table class="table table-striped custab">
				<thead>
					<tr class="yanse">
						<th>Order No.</th>
						<th>
							Commodity Name
						</th>
						<th>
							Order Time
						</th>
						<th>
							Unit Price
						</th>
						<th>
							Counts
						</th>						
						<th>
							Actual Money
						</th>	
						<th>
							Customer Info
						</th>
						<th>
							Status
						</th>
						<th>
							Remaining Time
						</th>
					</tr>
				</thead>
				{% for salesHistory in SalesHistoryList %}
				<tr class="yanse" id="item{{salesHistory.id}}">
					<td>{{ salesHistory.id }}</td>
					<td>{{ salesHistory.CommodityName }}</td>
					<td>{{ salesHistory.OrderListDate }}</td>
					<td>{{ salesHistory.SellPrice }}HK$</td>
					<td>{{ salesHistory.OrderAmount }}</td>
					<td>{% widthratio salesHistory.SellPrice 1 salesHistory.OrderAmount %}HK$</td>
					<td>Name:{{ salesHistory.CustomerOrderID.CustomerID.CustomerName}}<br>
						Tel:{{ salesHistory.CommodityAddressID.CommodityTelephone}}<br>
						Email:{{ salesHistory.CustomerOrderID.CustomerID.CustomerEmail}}<br>
						Addr:{{ salesHistory.CommodityAddressID.CommodityAddress }}</td>
					{% if salesHistory.OrderListState == 0 %}
					<td>paying</td>
					{% endif %}
					{% if salesHistory.OrderListState == 1 %}
					<td>shipping<br>ShipNo:{{ salesHistory.ShipNo }}</td>
					{% endif %}
					{% if salesHistory.OrderListState == 2 %}
					<td>signing</td>
					{% endif %}
					{% if salesHistory.OrderListState == 3 %}
					<td>commenting</td>
					{% endif %}
					{% if salesHistory.OrderListState == 4 %}
					<td>refunding</td>
					{% endif %}
					{% if salesHistory.OrderListState == 5 %}
					<td>refunded</td>
					{% endif %}
					{% if salesHistory.OrderListState == 6 %}
					<td>refused refunded</td>
					{% endif %}
					{% if salesHistory.OrderListState == 7 %}
					<td>finish</td>
					{% endif %}
					{% if salesHistory.OrderListState == 8 %}
					<td>commented</td>
					{% endif %}
					<td>0</td>
				</tr>
				{% endfor %}				
			</table>
			<b>Total Value: {{totalvalue}}HK$	</b>
			<br>
			<br>
		</div>
		</div>
		</div>
        <hr>
        <h3 class="text-left" style="color:#3a87ad">
				Sales History
		</h3>
		<h4>This part of money is conserved by admin. When the transaction complete, the money will be automatically remitted to your account.</h4>
		<hr>
		<div class="row clearfix">
			<div class="col-md-12 column">   
        		<div class="row col-md-12">
			<table class="table table-striped custab">
				<thead>
					<tr class="yanse">
						<th>Order No.</th>
						<th>
							Commodity Name
						</th>
						<th>
							Order Time
						</th>
						<th>
							Unit Price
						</th>
						<th>
							Counts
						</th>						
						<th>
							Actual Money
						</th>	
						<th>
							Customer Info
						</th>
						<th>
							Status
						</th>
						<th>
							Remaining Time
						</th>
					</tr>
				</thead>
				{% for salesHistory in SalesHistoryList1 %}
				<tr class="yanse" id="item{{salesHistory.id}}">
					<td>{{ salesHistory.id }}</td>
					<td>{{ salesHistory.CommodityName }}</td>
					<td>{{ salesHistory.OrderListDate }}</td>
					<td>{{ salesHistory.SellPrice }}HK$</td>
					<td>{{ salesHistory.OrderAmount }}</td>
					<td>{% widthratio salesHistory.SellPrice 1 salesHistory.OrderAmount %}HK$</td>
					<td>Name:{{ salesHistory.CustomerOrderID.CustomerID.CustomerName}}<br>
						Tel:{{ salesHistory.CommodityAddressID.CommodityTelephone}}<br>
						Email:{{ salesHistory.CustomerOrderID.CustomerID.CustomerEmail}}<br>
						Addr:{{ salesHistory.CommodityAddressID.CommodityAddress }}</td>
					{% if salesHistory.OrderListState == 0 %}
					<td>paying</td>
					{% endif %}
					{% if salesHistory.OrderListState == 1 %}
					<td>shipping<br>ShipNo:{{ salesHistory.ShipNo }}</td>
					{% endif %}
					{% if salesHistory.OrderListState == 2 %}
					<td>signing</td>
					{% endif %}
					{% if salesHistory.OrderListState == 3 %}
					<td>commenting</td>
					{% endif %}
					{% if salesHistory.OrderListState == 4 %}
					<td>refunding</td>
					{% endif %}
					{% if salesHistory.OrderListState == 5 %}
					<td>refunded</td>
					{% endif %}
					{% if salesHistory.OrderListState == 6 %}
					<td>refused refunded</td>
					{% endif %}
					{% if salesHistory.OrderListState == 7 %}
					<td>finish</td>
					{% endif %}
					{% if salesHistory.OrderListState == 8 %}
					<td>commented</td>
					{% endif %}
					<td></td>
					<script>

						var myDate = new Date();
						myDate.getDate();
						
						var x = 7-myDate.getDate()+{{ salesHistory.OrderListDate.day}};
						$('td:last').append(x);
						
					</script>

				</tr>
				{% endfor %}				
			</table>
			<b>Total Value: {{totalvalue1}}HK$	</b>
			<br>
			<br>
		</div>
		</div>
		</div>

	</div>
	</div>
</div>
{% endblock %}
					